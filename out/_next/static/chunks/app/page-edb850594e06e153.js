(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1847:function(e,s,r){Promise.resolve().then(r.bind(r,6186))},6186:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return x}});var t=r(7437),n=r(2265),a=r(2292),l=r(4792),o=r(6730),u=r(7097),i=r(5587);function d(e){let[s,r]=(0,n.useState)([]),{width:a,height:l}=function(){let[e,s]=(0,n.useState)({width:0,height:0});return(0,n.useEffect)(()=>{function e(){s(function(){let{innerWidth:e,innerHeight:s}=window;return{width:e,height:s}}())}return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),e}();return(0,n.useEffect)(()=>{if(s.length>e.numDrops)s.splice(-(s.length-e.numDrops));else{let r=[];for(let n=0;n<e.numDrops-s.length;n++)r.push((0,t.jsx)(m,{numDrops:e.numDrops,width:a}));s.push(...r)}},[e.numDrops]),(0,t.jsx)("div",{className:"h-screen w-screen absolute top-0 left-0 overflow-clip",children:s})}function m(e){return(0,t.jsx)(i.E.div,{animate:{y:1100},transition:{ease:"linear",repeatType:"loop",repeat:1/0,duration:Math.random()+1,delay:2*Math.random()},className:"absolute -top-28 left-0 bg-gradient-to-b from-blue-300 to-blue-800 w-1 h-24",style:{left:e.width/e.numDrops*Math.round(Math.random()*e.numDrops)}})}var c=r(156),p=r.n(c);function x(){let[e,s]=(0,n.useState)(0),[r,i]=(0,n.useState)([!0,!1,!1,!1,!1,!1,!1,!1]),[m,c]=(0,n.useState)(41),[x,f]=(0,n.useState)(.69),[b,g]=(0,n.useState)(0),[j,v]=(0,n.useState)(0),[w,N]=(0,n.useState)(!1),[y,S]=(0,n.useState)(!1),[k,E]=(0,n.useState)([{temp:41,pressure:.69},{temp:41,pressure:.69},{temp:41,pressure:.69},{temp:41,pressure:.69},{temp:41,pressure:.69},{temp:41,pressure:.69},{temp:41,pressure:.69},{temp:41,pressure:.69},{temp:41,pressure:.69}]),D=e=>{E(e),localStorage.setItem("shower.presets",JSON.stringify(e))};(0,n.useEffect)(()=>{E(JSON.parse(localStorage.getItem("shower.presets")||'[{"temp": 41, "pressure": 0.69}, {"temp": 41, "pressure": 0.69}, {"temp": 41, "pressure": 0.69}, {"temp": 41, "pressure": 0.69}, {"temp": 41, "pressure": 0.69}, {"temp": 41, "pressure": 0.69}, {"temp": 41, "pressure": 0.69}, {"temp": 41, "pressure": 0.69}, {"temp": 41, "pressure": 0.69}]'))},[]);let C=s=>{let r=[!1,!1,!1,!1,!1,!1,!1,!1,!1];r[e+s]=!0,i(r)};return(0,t.jsxs)("main",{className:"flex min-h-screen flex-col items-center justify-between p-24 bg-orange-200",children:[(0,t.jsx)(d,{numDrops:y?300*x:0}),(0,t.jsxs)("div",{className:"m-auto flex flex-col bg-white shadow-xl z-10",children:[(0,t.jsxs)("div",{className:"flex flex-row p-2 border-black border-solid border-2",children:[(0,t.jsxs)("p",{className:" border-black border-solid border-4 w-48 p-2 m-2",children:[(0,t.jsx)("b",{children:"S.U.S."})," Shower Unification System"]}),(0,t.jsxs)("div",{className:"flex flex-col m-2 ml-auto mx-4 py-2",children:[(0,t.jsx)("div",{className:y?"w-4 h-4 rounded-full bg-green-500 mx-auto":"w-4 h-4 rounded-full bg-red-500 mx-auto"}),(0,t.jsx)("p",{className:"mx-auto my-auto",children:y?"ON":"OFF"})]}),(0,t.jsx)(a.Z,{className:"mx-4 my-auto",onChange:()=>{S(!y)},checked:y})]}),(0,t.jsxs)("div",{className:"flex flex-row p-2 border-black border-solid border-2",children:[(0,t.jsxs)("div",{className:"my-auto mx-auto flex flex-col items-center",children:[(0,t.jsx)(o.yi,{diameter:50,min:1,max:99,step:1,value:Math.round(100*x),onValueChange:e=>{f(e/100)}}),(0,t.jsx)("p",{children:"Pressure"})]}),(0,t.jsx)("div",{className:"ml-auto",children:(0,t.jsx)(l.s,{value:Math.round(100*x),count:2,height:80,color:"red",skew:!0})})]}),(0,t.jsxs)("div",{className:"flex flex-row p-2 border-black border-solid border-2",children:[(0,t.jsxs)("div",{className:"my-auto mx-auto flex flex-col items-center",children:[(0,t.jsx)(o.yi,{diameter:50,min:25,max:47,step:1,value:Math.round(m),onValueChange:e=>{c(e)}}),(0,t.jsx)("p",{children:"Temperature"})]}),(0,t.jsx)("div",{className:"ml-auto",children:(0,t.jsx)(l.s,{value:Math.round(m),count:2,height:80,color:"red",skew:!0})})]}),(0,t.jsxs)("div",{className:"flex flex-col p-2 border-black border-solid border-2 items-center",children:[(0,t.jsxs)("div",{className:"flex flex-row p-2",children:[(0,t.jsx)("button",{onClick:()=>{0!=e&&(s(e-1),c(k[e].temp),f(k[e].pressure),C(-1))},className:"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-md shadow-md transition duration-300 ease-in-out transform active:translate-y-1",children:"←"}),(0,t.jsx)("div",{className:"flex flex-row m-2",children:(()=>{let e=[];for(let s=0;s<9;s++)e.push((0,t.jsxs)("div",{className:"flex flex-col items-center mx-1",children:[(0,t.jsx)(u.Z,{className:r[s]?"text-red-500":""}),(0,t.jsx)("p",{className:r[s]?"text-red-500":"",children:s+1})]},s));return e})()}),(0,t.jsx)("button",{onClick:()=>{8!=e&&(s(e+1),c(k[e+1].temp),f(k[e+1].pressure),C(1))},className:"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-md shadow-md transition duration-300 ease-in-out transform active:translate-y-1",children:"→"})]}),(0,t.jsx)("button",{className:"bg-gray-300 w-full hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-md shadow-md transition duration-300 ease-in-out transform active:translate-y-1",onClick:()=>{if(w){setTimeout(()=>{C(0)},500);let s=p()(k);s[e]={temp:m,pressure:x},D(s),N(!1)}else N(!0)},children:"STORE"})]})]}),w?(0,t.jsx)(h,{currentUser:e,setUserLEDs:i,blinkInterval:500}):(0,t.jsx)(t.Fragment,{})]})}function h(e){let[s,r]=(0,n.useState)(!1),a=()=>{console.log("turning off LEDs");let s=[!1,!1,!1,!1,!1,!1,!1,!1,!1];s[e.currentUser]=!0,e.setUserLEDs(s),setTimeout(()=>{l()},e.blinkInterval)},l=()=>{console.log("turning on LEDs"),e.setUserLEDs([!0,!0,!0,!0,!0,!0,!0,!0,!0]),setTimeout(()=>{r(!s)},e.blinkInterval)};return(0,n.useEffect)(()=>{a()},[s]),(0,t.jsx)(t.Fragment,{})}}},function(e){e.O(0,[196,971,69,744],function(){return e(e.s=1847)}),_N_E=e.O()}]);